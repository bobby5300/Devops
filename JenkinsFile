pipeline {

    agent any
    
    stages {

        stage('checkout from Dev Branch') {

            steps{

                checkout([
                    $class: 'GitSCM',
                    branches: [[name: '*/Dev']], 
                    extensions: [],
                    userRemoteConfigs: [[url: 'https://github.com/bobby5300/Devops.git']]
                      ])

            }
        }

        stage('Merge Dev to Master') {

            steps {
                
                withCredentials([

                    gitUsernamePassword(credentialsId: 'a4c7b0a4-f2d8-433a-95ab-4a5515cd24f8', gitToolName: 'Default')
                    
                    ]) {                
                    sh '''git config --global user.email "Bobby102006@gmail.com"
                    git config --global user.name 'Bobby'
                    git add *.txt
                    git commit -m \'Pushed from Jenkins\' 
                    git push origin main '''
                
                }
            }

        }

            

        


    }

}
